<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KYNDO - Batalla de Mazos</title>
  <!-- Cache bust for latest UI -->
  <link rel="stylesheet" href="./css/styles.css?v=20260202-4">
</head>
<body style="margin:0; padding:0;">
  <header>
    <h1>⚔️ Batalla</h1>
  </header>

  <main style="max-width: 1200px; margin: 0 auto; padding: 6px 8px 16px; width: 100%;">
    <div id="battleContainer"></div>
  </main>

  <footer>
    <p style="font-size:12px; opacity:.65;">KYNDO - Cognitive Card Game Engine</p>
  </footer>

  <script type="module">
    console.log('Battle UI version 2026-02-02-4');
    import { DemoBattleController } from './js/battle-controller.js';

    const battleContainer = document.getElementById('battleContainer');
    let currentController = null;

    async function startBattle() {
      if (currentController) {
        currentController.reset();
      }

      currentController = new DemoBattleController();
      const battleUI = await currentController.startDemo();
      battleContainer.innerHTML = '';
      battleContainer.appendChild(battleUI);
    }

    // Auto-launch arena on load so Kombat opens straight into the battle view
    startBattle();

    console.log('Battle Demo loaded. Arena auto-started.');
  </script>
</body>
</html>
